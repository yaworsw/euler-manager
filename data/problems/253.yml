---
:id: 253
:name: Tidying up
:url: http://projecteuler.net/problem=253
:content: "\r\n<p>A small child has a “number caterpillar” consisting of forty jigsaw
  pieces, each with one number on it, which, when connected together in a line, reveal
  the numbers 1 to 40 in order.</p>\r\n\r\n<p>Every night, the child's father has
  to pick up the pieces of the caterpillar that have been scattered across the play
  room. He picks up the pieces at random and places them in the correct order.<br>
  As the caterpillar is built up in this way, it forms distinct segments that gradually
  merge together.<br> The number of segments starts at zero (no pieces placed), generally
  increases up to about eleven or twelve, then tends to drop again before finishing
  at a single segment (all pieces placed).</p>\n<p>\r\n\r\n</p>\n<p>For example:</p>\r\n<div
  align=\"center\">\r\n<table cellspacing=\"0\" cellpadding=\"2\" border=\"1\" align=\"center\">\n<tr
  style=\"background-color:#c1daf9;\">\n<td width=\"80\" align=\"center\"><b>Piece
  Placed</b></td>\r\n<td width=\"80\" align=\"center\"><b>Segments So Far</b></td>\n</tr>\n<tr>\n<td
  align=\"center\">12</td>\n<td align=\"center\">1</td>\n</tr>\n<tr>\n<td align=\"center\">4</td>\n<td
  align=\"center\">2</td>\n</tr>\n<tr>\n<td align=\"center\">29</td>\n<td align=\"center\">3</td>\n</tr>\n<tr>\n<td
  align=\"center\">6</td>\n<td align=\"center\">4</td>\n</tr>\n<tr>\n<td align=\"center\">34</td>\n<td
  align=\"center\">5</td>\n</tr>\n<tr>\n<td align=\"center\">5</td>\n<td align=\"center\">4</td>\n</tr>\n<tr>\n<td
  align=\"center\">35</td>\n<td align=\"center\">4</td>\n</tr>\n<tr>\n<td align=\"center\">…</td>\n<td
  align=\"center\">…</td>\n</tr>\n</table>\n</div>\r\n\r\n<p>Let <var>M</var> be the
  maximum number of segments encountered during a random tidy-up of the caterpillar.<br>\r\nFor
  a caterpillar of ten pieces, the number of possibilities for each <var>M</var> is</p>\r\n<div
  align=\"center\">\r\n<table cellspacing=\"0\" cellpadding=\"2\" border=\"1\" align=\"center\">\n<tr
  style=\"background-color:#c1daf9;\">\n<td width=\"50\" align=\"center\"><b><var>M</var></b></td>\r\n<td
  width=\"90\" align=\"center\"><b>Possibilities</b></td>\n</tr>\n<tr>\n<td align=\"center\">1</td>\n<td
  align=\"right\">512      </td>\n</tr>\n<tr>\n<td align=\"center\">2</td>\n<td align=\"right\">250912 
      </td>\n</tr>\n<tr>\n<td align=\"center\">3</td>\n<td align=\"right\">1815264 
      </td>\n</tr>\n<tr>\n<td align=\"center\">4</td>\n<td align=\"right\">1418112 
      </td>\n</tr>\n<tr>\n<td align=\"center\">5</td>\n<td align=\"right\">144000 
      </td>\n</tr>\n</table>\n</div>\r\n\r\n<p>so the most likely value of <var>M</var>
  is 3 and the average value is <sup>385643</sup>⁄<sub>113400</sub> = 3.400732, rounded
  to six decimal places.</p>\r\n\r\n<p>The most likely value of <var>M</var> for a
  forty-piece caterpillar is 11; but what is the average value of <var>M</var>?</p>\r\n<p>Give
  your answer rounded to six decimal places.</p>\r\n\r\n"
